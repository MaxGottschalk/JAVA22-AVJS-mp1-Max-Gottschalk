{"mappings":"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","sources":["src/js/firebase.js","src/js/script.js"],"sourcesContent":["//GET - hämtar \r\nexport async function getFirebase() {\r\n    const url = \"https://highscoreavjs-default-rtdb.europe-west1.firebasedatabase.app/highscore.json\";\r\n\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    console.log(data);\r\n    data.sort((a, b) => b.score - a.score);\r\n    console.log(data);\r\n\r\n    const ol = document.createElement(\"ol\");\r\n    for (let players of data) {\r\n        const li = document.createElement(\"li\");\r\n        li.innerText = players.name + \" \" + players.score;\r\n        ol.append(li);\r\n        document.body.append(ol);\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\n//PATCH - Lägger till/ersätter existerande object \r\nexport async function patchFirebase(hs) {\r\n\r\n    const url = `https://highscoreavjs-default-rtdb.europe-west1.firebasedatabase.app/.json`;\r\n    const newHighscore = {\r\n        highscore: hs\r\n    }\r\n    const options = {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(newHighscore),\r\n        headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\"\r\n        }\r\n    }\r\n\r\n    const response = await fetch(url, options);\r\n    const data = await response.json();\r\n    console.log(data);\r\n}","import { patchFirebase } from \"./firebase.js\";\r\nimport { getFirebase } from \"./firebase.js\";\r\n\r\nlet playerPoint = 0;\r\nlet computerPoint = 0;\r\nlet updatedHSList = [];\r\nconst playerChoice = document.querySelector(\"#playerChoice\");\r\nconst computerChoice = document.querySelector(\"#computerChoice\");\r\nconst playerSelect = document.querySelectorAll(\".choice\");\r\n\r\nconst playerScore = document.querySelector(\"#playerPoint\");\r\nconst computerScore = document.querySelector(\"#computerPoint\");\r\nconst roundWinner = document.querySelector(\"#roundWinner\");\r\n\r\nconst playerName = document.querySelector(\"#playerName\");\r\nlet inputName = document.querySelector(\"#inputName\");\r\n\r\nlet randomNr = getRandomNr();\r\nconst option = [\"Rock\", \"Paper\", \"Scissor\"];\r\n\r\ndocument.querySelector(\"#startGame\").addEventListener(\"click\", event => {\r\n    event.preventDefault();\r\n\r\n    playerName.innerText = inputName.value;\r\n    console.log(inputName.value);\r\n    playerSelect[0].addEventListener(\"click\", checkSelect);\r\n    playerSelect[1].addEventListener(\"click\", checkSelect);\r\n    playerSelect[2].addEventListener(\"click\", checkSelect);\r\n});\r\n\r\ngetFirebase().then(function (hsList) {\r\n    updatedHSList = hsList;\r\n    console.log(updatedHSList);\r\n});\r\n\r\nconsole.log(option[randomNr]);\r\nconsole.log(randomNr);\r\n\r\nfunction checkSelect(event) {\r\n    console.log(randomNr);\r\n    if (event.target.value === option[0] && option[randomNr] === option[2]) {\r\n        playerPoint++;\r\n        playerChoice.innerText = event.target.value;\r\n        computerChoice.innerText = option[randomNr];\r\n        roundWinner.innerText = inputName.value + \" point!\";\r\n        playerScore.innerText = inputName.value + \" Score:\" + playerPoint;\r\n        randomNr = getRandomNr();\r\n        console.log('comp', option[randomNr]);\r\n    } else if (event.target.value === option[1] && option[randomNr] === option[0]) {\r\n        playerPoint++;\r\n        playerChoice.innerText = event.target.value;\r\n        computerChoice.innerText = option[randomNr];\r\n        roundWinner.innerText = inputName.value + \" point!\";\r\n        playerScore.innerText = inputName.value + \" Score:\" + playerPoint;\r\n        randomNr = getRandomNr();\r\n        console.log('comp', option[randomNr]);\r\n    } else if (event.target.value === option[2] && option[randomNr] === option[1]) {\r\n        playerPoint++;\r\n        playerChoice.innerText = event.target.value;\r\n        computerChoice.innerText = option[randomNr];\r\n        roundWinner.innerText = inputName.value + \" point!\";\r\n        playerScore.innerText = inputName.value + \" Score:\" + playerPoint;\r\n        randomNr = getRandomNr();\r\n        console.log('comp', option[randomNr]);\r\n    } else if (event.target.value === option[randomNr]) {\r\n        playerChoice.innerText = event.target.value;\r\n        computerChoice.innerText = option[randomNr];\r\n        roundWinner.innerText = \"Tie!\";\r\n        randomNr = getRandomNr();\r\n        console.log('random nummer', randomNr);\r\n    } else {\r\n        computerPoint++;\r\n        playerChoice.innerText = event.target.value;\r\n        computerChoice.innerText = option[randomNr];\r\n        computerScore.innerText = \"Computer Score:\" + computerPoint;\r\n\r\n        updatedHSList.push({ name: inputName.value, score: playerPoint });\r\n        updatedHSList.sort((a, b) => b.score - a.score);\r\n        updatedHSList.pop();\r\n\r\n        patchFirebase(updatedHSList);\r\n        roundWinner.innerText = \"Computer point!\";\r\n        console.log('comp', option[randomNr]);\r\n    }\r\n\r\n    setTimeout(() => {\r\n        if (computerPoint == 1) {\r\n            alert(\"Computer Won the game\");\r\n            location.reload();\r\n        }\r\n    }, 20);\r\n\r\n\r\n    event.preventDefault();\r\n}\r\n\r\nfunction getRandomNr() {\r\n    return Math.floor(Math.random() * 3);\r\n}\r\n\r\n\r\n\r\n"],"names":["async","$953205d9211b0804$export$8c34ae3b385bb2fa","hs","newHighscore","highscore","options","method","body","JSON","stringify","headers","response","fetch","data","json","console","log","$3fba0bda95caa784$var$playerPoint","$3fba0bda95caa784$var$computerPoint","$3fba0bda95caa784$var$updatedHSList","$3fba0bda95caa784$var$playerChoice","document","querySelector","$3fba0bda95caa784$var$computerChoice","$3fba0bda95caa784$var$playerSelect","querySelectorAll","$3fba0bda95caa784$var$playerScore","$3fba0bda95caa784$var$computerScore","$3fba0bda95caa784$var$roundWinner","$3fba0bda95caa784$var$playerName","$3fba0bda95caa784$var$inputName","$3fba0bda95caa784$var$randomNr","$3fba0bda95caa784$var$getRandomNr","$3fba0bda95caa784$var$option","$3fba0bda95caa784$var$checkSelect","event","target","value","innerText","push","name","score","sort","a","b","pop","setTimeout","alert","location","reload","preventDefault","Math","floor","random","addEventListener","ol","createElement","players","li","append","then","hsList"],"version":3,"file":"index.e35ba5e5.js.map"}